@model CoreLayer.ViewModel.InsertServicePartialViewModel
@{
    Layout = null;
}
<div class="container">
    <div style="margin-top:0" class="form-content">
        <div class="form-header">
            <h3>ثبت درخواست</h3>
            <p>برای ثبت درخواست فرم زیر را پر کنید و کلید ثبت درخواست را بزنید</p>
        </div>

        <form asp-action="InsertService">
            <div class="form-group">
                <label asp-for="FullName"></label>
                <input asp-for="FullName" class="form-control">
            </div>
            <div class="form-group">
                <label asp-for="NumberPhone"></label>
                <input asp-for="NumberPhone" class="form-control">
            </div>
            <div class="form-group">
                <label asp-for="NumberHome"></label>
                <input asp-for="NumberHome" class="form-control">
            </div>
            <div class="form-group">
                <label asp-for="Addres"></label>
                <textarea asp-for="Addres" class="form-control"></textarea>
            </div>

            <div class="col-12">
                <div id="mapid1" style="height: 300px;"></div>
                <script>
                    var mymap = L.map('mapid1').setView([31.58358, 54.44613], 5);
                    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                        minZoom: 5,
                        maxZoom: 19,
                        attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors'
                    }).addTo(mymap);
                
                    var marker;
                    mymap.on('click',
                        function (e) {
                            if (marker) {
                                mymap.removeLayer(marker);
                            }
                            marker = new L.Marker(e.latlng).addTo(mymap);
                            var lat = e.latlng.lat;
                            var lon = e.latlng.lng;
                            $('#Addres_X').val(lat);
                            $('#Addres_Y').val(lon);
                        });

                </script>
            </div>

            <input type="hidden" asp-for="ServiceId">
            <input style="visibility: hidden" value="" asp-for="Addres_X">
            <input type="hidden" asp-for="Addres_Y">

            <button type="submit" class="default-btn">ثبت درخواست</button>

            <div asp-validation-summary="All" class="text-danger"></div>

        </form>
    </div>
</div>

<script src="\jquery.validate.min.js"></script>
<script src="\jquery.validate.unobtrusive.min.js"></script>